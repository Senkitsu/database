<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="container">
        <h1><%= title %></h1>
        
        <form method="POST" class="form">
            <div class="form-group">
                <label for="course_id">Дисциплина:</label>
                <select id="course_id" name="course_id" required>
                    <option value="">Выберите дисциплину</option>
                    <% courses.forEach(course => { %>
                    <option value="<%= course.id %>" <%= schedule.course_id == course.id ? 'selected' : '' %>>
                        <%= course.name %>
                    </option>
                    <% }); %>
                </select>
            </div>
            
            <div class="form-group">
                <label for="teacher_id">Преподаватель:</label>
                <select id="teacher_id" name="teacher_id" required>
                    <option value="">Выберите преподавателя</option>
                    <% teachers.forEach(teacher => { %>
                    <option value="<%= teacher.id %>" <%= schedule.teacher_id == teacher.id ? 'selected' : '' %>>
                        <%= teacher.first_name %> <%= teacher.last_name %>
                    </option>
                    <% }); %>
                </select>
            </div>
            
            <div class="form-group">
                <label for="group_id">Группа:</label>
                <select id="group_id" name="group_id" required>
                    <option value="">Выберите группу</option>
                    <% groups.forEach(group => { %>
                    <option value="<%= group.id %>" <%= schedule.group_id == group.id ? 'selected' : '' %>>
                        <%= group.name %>
                    </option>
                    <% }); %>
                </select>
            </div>
            
            <div class="form-group">
                <label for="classroom_id">Аудитория:</label>
                <select id="classroom_id" name="classroom_id" required>
                    <option value="">Выберите аудиторию</option>
                    <% classrooms.forEach(classroom => { %>
                    <option value="<%= classroom.id %>" <%= schedule.classroom_id == classroom.id ? 'selected' : '' %>>
                        <%= classroom.number %> (<%= classroom.type %>, мест: <%= classroom.capacity %>)
                    </option>
                    <% }); %>
                </select>
            </div>
            
            <div class="form-group">
                <label for="day_of_week">День недели:</label>
                <select id="day_of_week" name="day_of_week" required>
                    <option value="1" <%= schedule.day_of_week == 1 ? 'selected' : '' %>>Понедельник</option>
                    <option value="2" <%= schedule.day_of_week == 2 ? 'selected' : '' %>>Вторник</option>
                    <option value="3" <%= schedule.day_of_week == 3 ? 'selected' : '' %>>Среда</option>
                    <option value="4" <%= schedule.day_of_week == 4 ? 'selected' : '' %>>Четверг</option>
                    <option value="5" <%= schedule.day_of_week == 5 ? 'selected' : '' %>>Пятница</option>
                    <option value="6" <%= schedule.day_of_week == 6 ? 'selected' : '' %>>Суббота</option>
                </select>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="start_time">Время начала:</label>
                    <input type="time" id="start_time" name="start_time" value="<%= schedule.start_time %>" required>
                </div>
                
                <div class="form-group">
                    <label for="end_time">Время окончания:</label>
                    <input type="time" id="end_time" name="end_time" value="<%= schedule.end_time %>" required>
                </div>
            </div>
            
            <div class="form-group">
                <label for="lesson_type">Тип занятия:</label>
                <select id="lesson_type" name="lesson_type" required>
                    <option value="lecture" <%= schedule.lesson_type == 'lecture' ? 'selected' : '' %>>Лекция</option>
                    <option value="practice" <%= schedule.lesson_type == 'practice' ? 'selected' : '' %>>Практика</option>
                    <option value="lab" <%= schedule.lesson_type == 'lab' ? 'selected' : '' %>>Лабораторная</option>
                </select>
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Сохранить</button>
                <a href="/schedule" class="btn btn-secondary">Отмена</a>
            </div>
        </form>
    </div>
</body>
</html>